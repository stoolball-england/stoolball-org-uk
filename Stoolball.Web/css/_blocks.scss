@import "../Content/bootstrap/_functions.scss";
@import "../Content/bootstrap/_mixins.scss";
@import "../Content/bootstrap/_variables.scss";

/* Reset button styles for the button that surrounds the edit view of a block in the Block List Editor */
.block-list-editor__button {
    background: none;
    border: none;
    margin: 0;
    text-align: left;
    width: calc(100%-110px);
    display: block;
    padding: 10px 100px 10px 10px;
    min-height: 50px;
}

.block-list-editor__button:hover {
    background: #eee;
}

// And don't let any image get too big in edit view
.block-list-editor__button figure {
    max-width: 400px;
}

/* Formatted text with image block */
.block__text-with-image {
    display: flex;
    margin-bottom: $spacer;
}

.block__text-with-image__left .block__image {
    margin-right: $spacer;
    order: 1;
}

.block__text-with-image__left .block__text {
    order: 2;
}

.block__text-with-image__right .block__image {
    margin-left: $spacer;
}

.block__text-with-image img[src] {
    border: 2px solid black;
    border-radius: 5px;
}

@include media-breakpoint-up(md) {
    .block__image {
        flex-basis: 33.3%;
    }

    .block__text {
        flex-basis: 66.6%;
    }
}

/* Images - don't let them overflow their container */
img {
    max-width: 100%;
}

// Common caption style for image and Getty blocks - similar to table headers for cross-site consistency
.block__images > figcaption, .block__getty > figcaption {
    background: $table-dark-bg;
    color: $table-dark-color;
    padding: $spacer;
    border-radius: $border-radius;
    border-top: 2px solid $white;
}


/* Images block - srcset alone renders very odd sizes, so instead control the width of the container.
   and the image is set to fill it. Prevent images getting too huge by reducing to less than 100% wide on a big screen.
*/
.block__images.portrait, .block__images.landscape {
    width: 100%;
}

@include media-breakpoint-up(md){
    .block__images.portrait {
        width: 50%;
    }
}

@include media-breakpoint-up(lg) {
    .block__images.landscape {
        width: 80%;
    }
}

.block__images img[src] {
    display: block;
    border: 2px solid black;
    border-radius: 5px;
    margin-bottom: $spacer;
    width: 100%;
    height: auto;
}

// inline-block caption because we don't know the width of an image.
// The image above does not know if it has the optional caption following, so offset its bottom margin instead.
.block__images > figcaption {
    margin-top: -$spacer;
}


// Make Getty images and YouTube videos have the same widths at the same breakpoints, while maintaining their aspect-ratios.
// Maximum size 594px is that of a Getty image. 
.block__getty {
    width: 335px;
}
.block__getty > iframe {
    display: block;
    width: 100%;
    height: 259px;
    border-radius: $border-radius;
}

.block__youtube {
    margin-bottom: $spacer;
    width: 335px;
    height: 188px;
    border-radius: $border-radius;
}

@media (min-width: 420px) {
    .block__getty {
        width: 375px;
    }

    .block__getty > iframe {
        height: 290px;
    }

    .block__youtube {
        width: 375px;
        height: 211px;
    }
}


@media (min-width: 530px) {
    .block__getty {
        width: 485px;
    }

    .block__getty > iframe {
        height: 375px;
    }

    .block__youtube {
        width: 485px;
        height: 273px;
    }
}

@media (min-width: 640px) {
    .block__getty {
        width: 594px;
    }

    .block__getty > iframe {
        height: 459px;
    }

    .block__youtube {
        width: 594px;
        height: 334px;
    }
}