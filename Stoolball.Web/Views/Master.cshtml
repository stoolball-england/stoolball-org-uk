@inherits Umbraco.Web.Mvc.UmbracoViewPage<Stoolball.Metadata.IHasViewMetadata>
@using ClientDependency.Core.Mvc
@using System.Text.RegularExpressions
@{
    Layout = null;
    Html.RequiresCss("~/css/base.css", 1);
    Html.RequiresJs("~/js/libs/purify.min.js", 1);
    Html.RequiresJs("~/js/trusted-types-policy.js", 2);
    Html.RequiresJs("~/scripts/jquery-3.5.1.min.js", 3); // full jQuery rather than slim is required for jQuery autocomplete
    Html.RequiresJs("~/scripts/bootstrap.bundle.min.js", 4);
}
<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@Model.Metadata.PageTitle – Stoolball England</title>
    @if (!string.IsNullOrWhiteSpace(Model.Metadata.Description))
    {
        <meta name="description" content="@Model.Metadata.Description" />
    }
    @RenderSection("head", false)
    @Html.RenderCssHere()
</head>
<body>
    <div class="container-xl">
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="navbar-brand"><a href="/"><img src="~/images/logos/stoolball-england.svg" alt="Stoolball England" width="200" height="59" /></a></div>

            <div class="navbar__menu">
                <div class="dropdown">
                    <button class="btn dropdown-toggle" type="button" id="navbar__account-menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Menu
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar__account-menu">
                        @if (Regex.IsMatch(Request.Url.AbsolutePath, @"^\/clubs\/?$"))
                        {
                            <li class="dropdown-item">
                                <em>Clubs</em>
                            </li>
                        }
                        else
                        {
                            <li class="dropdown-item">
                                <a href="/clubs">Clubs</a>
                            </li>
                        }
                        @if (Regex.IsMatch(Request.Url.AbsolutePath, @"^\/teams\/?$"))
                        {
                            <li class="dropdown-item">
                                <em>Teams</em>
                            </li>
                        }
                        else
                        {
                            <li class="dropdown-item">
                                <a href="/teams">Teams</a>
                            </li>
                        }
                        @if (Regex.IsMatch(Request.Url.AbsolutePath, @"^\/competitions\/?$"))
                        {
                            <li class="dropdown-item">
                                <em>Competitions</em>
                            </li>
                        }
                        else
                        {
                            <li class="dropdown-item">
                                <a href="/competitions">Competitions</a>
                            </li>
                        }
                        @if (Regex.IsMatch(Request.Url.AbsolutePath, @"^\/locations\/?$"))
                        {
                            <li class="dropdown-item">
                                <em>Grounds and sports halls</em>
                            </li>
                        }
                        else
                        {
                            <li class="dropdown-item">
                                <a href="/locations">Grounds and sports halls</a>
                            </li>
                        }
                    </ul>
                </div>
            </div>

            <div class="navbar__account">
                <div class="dropdown">
                    <button class="btn dropdown-toggle navbar__account-button" type="button" id="navbar__account-menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <svg aria-hidden="true" focusable="true" data-prefix="fas" data-icon="user-circle" class="svg-inline--fa fa-user-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" aria-labelledby="account-title" width="30" height="30">
                            <title id="account-title">Account</title>
                            <path fill="currentColor" d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"></path>
                        </svg>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar__account-menu">
                        @if (User.Identity.IsAuthenticated)
                        {
                            <li class="dropdown-item"><a href="/account">My account</a></li>
                            <li class="dropdown-item"><a href="/account/sign-out" class="dropdown-item">Sign out</a></li>
                        }
                        else
                        {
                            <li class="dropdown-item"><a href="/account/create">Create an account</a></li>
                            <li class="dropdown-item"><a href="/account/sign-in?ReturnUrl=@HttpUtility.UrlEncode(Request.Url.PathAndQuery)">Sign in</a></li>
                        }
                    </ul>
                </div>
            </div>
        </nav>
        @RenderBody()
    </div>

    @Html.RenderJsHere()
</body>
</html>