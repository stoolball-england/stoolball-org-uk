<div
  class="data-migration-dialog"
  ng-controller="Stoolball.DataMigration.DeleteCompetitionSubscriptions as vm"
>
  <umb-editor-view>
    <umb-editor-header
      name="model.title"
      name-locked="true"
      hide-alias="true"
      hide-icon="true"
      hide-description="true"
    >
    </umb-editor-header>

    <umb-editor-container>
      <umb-box>
        <umb-box-content>
          <p>This will delete all stoolball competition subscriptions.</p>
          <p><strong>This cannot be undone.</strong></p>
        </umb-box-content>
      </umb-box>
      <umb-box ng-if="vm.buttonState != 'init'">
        <umb-box-content>
          <div class="umb-panel-group__details-check-name">
            Deleting competition subscriptions
          </div>
          <p ng-if="!vm.success && vm.done" class="alert alert-error">
            Failed
          </p>
          <p ng-if="vm.success && vm.done">Done.</p>
        </umb-box-content>
      </umb-box>
    </umb-editor-container>

    <umb-editor-footer>
      <umb-editor-footer-content-right>
        <umb-button
          type="button"
          button-style="link"
          label-key="general_close"
          shortcut="esc"
          action="vm.close()"
          ng-if="!vm.done"
        >
        </umb-button>
        <umb-button
          type="button"
          button-style="danger"
          label="Delete all competition subscriptions"
          icon="icon-trash"
          action="vm.submit(model)"
          state="vm.buttonState"
          disabled="vm.buttonState === 'busy'"
          ng-if="!vm.done"
        >
        </umb-button>
        <umb-button
          type="button"
          button-style="action"
          label="Close"
          action="vm.close(model)"
          ng-if="vm.done"
        >
        </umb-button>
      </umb-editor-footer-content-right>
    </umb-editor-footer>
  </umb-editor-view>
</div>
